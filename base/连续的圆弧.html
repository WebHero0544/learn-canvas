<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        #canvas {
            border: 1px solid #000;
        }
    </style>
</head>

<body>
    <canvas id="canvas" width="600" height="300"></canvas>
    <script>
        const datas1 = [
            { x: 20, y: 20 },
            { x: 40, y: 40 },
            { x: 60, y: 40 },
            { x: 60, y: 60 },
            { x: 80, y: 60 }
        ];
        const datas2 = [
            { x: 20, y: 140 },
            { x: 40, y: 160 },
            { x: 60, y: 160 },
            { x: 60, y: 180 },
            { x: 80, y: 180 }
        ];
        const datas = [datas1, datas2];
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        console.log(ctx);
        ctx.strokeStyle = 'red';
        ctx.fillStyle = '#f0f';

        // let p = new Path2D('M10 10 h 80 v 80 h -80 Z');
        // ctx.fill(p);



        ctx.save();
        ctx.translate(50, 50);
        ctx.rotate(Math.PI / 4);
        ctx.fillRect(-40, -40, 80, 80);
        ctx.restore();


        datas.forEach((item, index) => {

            item.forEach((el, i) => {
                const nextEl = item[i + 1];
                if (nextEl) {
                    const dx = el.x - nextEl.x;
                    const dy = el.y - nextEl.y;
                    const centerx = (el.x + nextEl.x) / 2;
                    const centery = (el.y + nextEl.y) / 2;
                    const radius = Math.abs(Math.sqrt(dx * dx + dy * dy)) / 2;
                    const angle = Math.atan(dy / dx);
                    
                    ctx.save();
                    ctx.translate(centerx, centery);
                    if (index % 2 == 0) {
                        ctx.rotate(angle);
                    }

                    ctx.beginPath();
                    ctx.arc(0, 0, radius, Math.PI, 0, false);
                    ctx.stroke();
                    ctx.restore();
                }
            })

        })

    </script>
</body>

</html>